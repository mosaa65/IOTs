# إنترنت الأشياء (IoT) — المحاضرة 4: Communication Protocols

**المحاضر:** Shamsan Qaashah  
**المقرر:** Internet of Things (IOTs)

## ملخص سريع
- نظرة على تنوع الشبكات التي تشكل IoT.
- بروتوكولات طبقة الربط وأنواع التحكم بالتصادم.
- مشكلة العقدة المخفية وحلول CSMA/CA.
- طبقات الشبكة والنقل والتطبيق مع أمثلة بروتوكولات.
- تقنيات تمكين IoT والأنظمة المدمجة.

## 1) IoT كشبكات متعددة
- IoT تجمع شبكات مختلفة: خلوية (3G/4G/CDMA)، WLAN، WSN، MANET.
- الاتصال السلس والموثوق مطلب أساسي ويؤثر على تجربة IoT.

## 2) طبقة الربط (Link Layer)
- تحدد كيفية إرسال البيانات فعليا عبر الطبقة المادية أو وسيط الشبكة.
- تحدد ترميز الإشارات ونقلها عبر الوسط.

### أمثلة بروتوكولات في طبقة الربط
- **Ethernet (IEEE 802.3):** انتشار واسع في الشبكات السلكية داخل LAN.
- **PLC (Power Line Communication):** اتصال عبر خطوط الكهرباء كبديل سلكي.

## 3) بروتوكولات الوصول للوسط (MAC) وأنواعها
**أنواع رئيسية:**
- **Collision‑Based (مع التصادم):** مثل CSMA/CD وCSMA/CA.
- **Collision‑Free (بدون تصادم):** مثل PCF.

### CSMA/CD (كشف التصادم)
- تحسس الوسط: إذا كان مشغولا يتم الانتظار لفترة قصيرة.
- إذا كان فارغا: يتم الإرسال ومراقبة التصادم.
- عند التصادم: إعادة الإرسال بعد الانتظار.

### مشكلة العقدة المخفية (Hidden Node)
- عقدتان (A وC) لا تسمعان بعضهما، فيحدث تصادم عند العقدة B.

### CSMA/CA (تجنب التصادم)
- تحسس الوسط للتأكد أنه فارغ.
- إرسال RTS والانتظار لـ CTS.
- بعد الاستجابة يتم الإرسال الفعلي.
- فائدة RTS/CTS: تقليل احتمالية التصادم وخاصة في العقد المخفية.

## 4) طبقة الشبكة/الإنترنت (Network/Internet Layer)
- مسؤولة عن إرسال رزم IP من المصدر للوجهة وعنونة الحزم وتوجيهها.
- **IPv4:** 32‑bit (~4.3 مليار عنوان).
- **IPv6:** 128‑bit (~3.4×10^38 عنوان) مناسب لتوسع أجهزة IoT.

## 5) طبقة النقل (Transport Layer)
- نقل الرسائل من طرف لطرف بشكل مستقل عن الوسط.
- ACK في TCP وبدون ACK في UDP.
- وظائف: التحكم بالأخطاء، التجزئة، التحكم بالتدفق والازدحام.

## 6) طبقة التطبيقات (Application Layer)
- HTTP/HTTPS وواجهات RESTful مستخدمة على نطاق واسع في IoT.
- **CoAP:** بروتوكول خفيف يشبه HTTP ويعمل غالبا فوق UDP مع 6LoWPAN.
- بروتوكولات مراسلة شائعة:
  - **MQTT:** نشر/اشتراك، مصمم للنطاق الترددي المنخفض والشبكات غير الموثوقة.
  - **AMQP:** معيار مفتوح للمراسلة (يُنفّذ غالبا عبر RabbitMQ).
  - **XMPP:** مصمم أساسا للتواصل الفوري بين البشر.

## 7) تقنيات تمكين إنترنت الأشياء (IoT Enabling Technologies)
1. **Wireless Sensor Networks (WSN):** شبكات حساسات موزعة لمراقبة البيئة.
   - أمثلة استخدام: مراقبة الطقس، جودة الهواء الداخلي، رطوبة التربة، المراقبة الأمنية، الشبكات الذكية.
2. **Cloud Computing:**
   - **IaaS:** موارد حوسبة وتخزين افتراضية.
   - **PaaS:** منصات تطوير ونشر التطبيقات.
   - **SaaS:** تطبيقات جاهزة للمستخدم.
3. **Big Data Analytics:** تحليل بيانات الاستشعار من الصناعة، الصحة، التتبع، المخزون.
4. **Communication Protocols:** العمود الفقري للاتصال وتبادل البيانات.
5. **Embedded Systems:** أنظمة حاسوبية مدمجة لأداء مهام محددة.

## 8) الأنظمة المدمجة (Embedded Systems)
**تعريف:** نظام يعتمد على متحكم/معالج دقيق لتنفيذ مهمة محددة.

### خصائص النظام المدمج
- **Single‑functioned:** يؤدي مهمة واحدة غالبا.
- **Tightly constrained:** قيود على الحجم والتكلفة والطاقة.
- **Reactive and Real‑time:** يستجيب للبيئة بزمن محدد.
- **Microprocessor‑based:** يعتمد على متحكم دقيق.
- **Memory:** ذاكرة محدودة غالبا.
- **Connected:** يتصل بأجهزة إدخال/إخراج.
- **HW‑SW System:** تكامل العتاد والبرمجيات.

### مزايا/عيوب الأنظمة المدمجة
**مزايا:** تخصيص سهل، استهلاك منخفض للطاقة، تكلفة منخفضة، تحسين الأداء.

**عيوب:** جهد تطوير مرتفع، وقت تسويق أطول.

### البنية الأساسية للنظام المدمج
- **Sensor** → **A/D Converter** → **Processor/ASIC** → **D/A Converter** → **Actuator**

## 9) تكليف
- اقترح فكرة تصميم منزل ذكي باستخدام تقنيات إنترنت الأشياء.
- المطلوب: ملخص الفكرة، الأهداف، مخطط المشروع، الأدوات المستخدمة (حساسات/متحكمات/محركات)، طريقة البرمجة والربط بالإنترنت، وربط تطبيق الموبايل.

## 10) شرح الرسومات في الشرائح (اعتمادا على العناوين)
- **ص 3:** عائلة IEEE 802 و1901.
- **ص 8:** مخطط بروتوكول التصادم.
- **ص 9–10:** مشكلة العقدة المخفية.
- **ص 12:** مخطط عمل CSMA/CA.
- **ص 24–25:** البنية الأساسية للنظام المدمج.
